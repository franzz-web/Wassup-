# import random
# import string
#from datetime import datetime

def generate_password(length=12):
    if length < 6:
        raise ValueError("Password length must be at least 6")

    characters = (
        string.ascii_lowercase +
        string.ascii_uppercase +
        string.digits +
        string.punctuation
    )

    password = ''.join(random.choice(characters) for _ in range(length))
    return password


def log_generation(password_length):
    with open("password_log.txt", "a") as file:
        timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        file.write(f"[{timestamp}] Generated password of length {password_length}\n")


if __name__ == "__main__":
    try:
        length = int(input("Enter password length: "))
        password = generate_password(length)
        print("Generated Password:", password)
        log_generation(length)
    except ValueError as e:
        print("Error:", e)
